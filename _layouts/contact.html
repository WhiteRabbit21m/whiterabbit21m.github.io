---
layout: default
---
<div class="contact-page">
  <div class="container">
    <header class="page-header">
      <h1>{{ page.title }}</h1>
    </header>
    <div class="contact-content">
      {{ content }}
    </div>
    <div class="pgp-key-container">
      <pre class="pgp-key"><code>-----BEGIN PGP PUBLIC KEY BLOCK-----
... (inserisci qui la tua chiave PGP) ...
-----END PGP PUBLIC KEY BLOCK-----</code></pre>
      <button id="copyPgpKey" class="copy-btn">Copy PGP Key</button>
    </div>
    <div class="contact-form-container">
      <div class="contact-image">
        <img src="/assets/images/contact.png" alt="Immagine di contatto" class="contact-img">
      </div>
      <div class="contact-form">
        <h2>Inviaci un messaggio</h2>
        <form action="https://formspree.io/f/xxxxxxx" method="POST"> <!--ADD YOUR IDENTIFICATION--!>
          <div class="form-group">
            <label for="name">Nome</label>
            <input type="text" id="name" name="name" required>
          </div>
          <div class="form-group">
            <label for="email">La tua email:</label>
            <input type="email" id="email" name="email" required>
          </div>
          <div class="form-group">
            <label for="message">Il tuo messaggio:</label>
            <textarea id="message" name="message" rows="5" required></textarea>
          </div>
          <button type="submit" class="submit-btn">Invia Messaggio</button>
        </form>
      </div>
    </div>
  </div>
</div>
<script>
document.querySelector('form').addEventListener('submit', function(e) {
  e.preventDefault();
  
  fetch(this.action, {
    method: 'POST',
    body: new FormData(this),
    headers: {
      'Accept': 'application/json'
    }
  }).then(response => {
    if (response.ok) {
      sessionStorage.setItem('formSubmitted', 'true');
      window.location.href = '/thanks-email';
    } else {
      throw new Error('Errore nell\'invio del form');
    }
  }).catch(error => {
    console.error('Errore:', error);
    alert('Si è verificato un errore nell\'invio del messaggio. Per favore, riprova più tardi.');
  });
});

document.getElementById('copyPgpKey').addEventListener('click', function() {
  const pgpKey = document.querySelector('.pgp-key code').textContent;
  navigator.clipboard.writeText(pgpKey).then(() => {
    this.textContent = 'Copied!';
    setTimeout(() => {
      this.textContent = 'Copy PGP Key';
    }, 2000);
  }).catch(err => {
    console.error('Failed to copy: ', err);
  });
});
</script>
